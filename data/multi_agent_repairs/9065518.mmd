%%{init: {'theme': 'default', 'themeVariables': { 'primaryColor': '#ffcc00', 'edgeLabelBackground':'#ffffff', 'tertiaryColor': '#fff000'}}}%%

flowchart TD
    %% Data Source Node
    A["2020SP_GSS_data.csv"] -->|"Read CSV"| B["dfGSS"]  
    click A href "#" 
    %%
    %% Data Variables
    B --> |"Variables of Interest"| C["lVar"] %% List of variable names  
    C --> D["Descriptive Statistics"]
    B --> |"Mapping for categorical vars"| E["test"]   
    B --> |"Frequency Distributions"| E  
    B --> |"Descriptive Stats & Bar Charts"| D  
    D --> F["Chi-square Tests"]
    B --> |"Crosstab calculation"| G["contingency_table"]  
    G --> F 
    F --> H["Correlation Analysis"]

    %% Nodes are described here
    classDef dataSource fill:#ffcc99,stroke:#ff6600,stroke-width:2px;
    classDef process fill:#66ccff,stroke:#006699,stroke-width:2px;
    class A,B,C,D,E,G,H dataSource;