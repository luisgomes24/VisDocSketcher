%%{init: {'theme': 'base', 'themeVariables': {'primaryColor': '#ffcc00', 'edgeLabelBackground':'#ffffff', 'tertiaryColor': '#ffffe0'}}}%
flowchart TD
    A["Data Source: all_billionaires_1997_2023.csv"]
    %% Node for reading the CSV file
    B["DataFrame: df"]
    %% Node representing the DataFrame which contains all data from the CSV
    C["Variable: years"]
    %% Node for extracting unique years
    D["Variable: male_counts"]
    %% Node for yearly male counts
    E["Variable: female_counts"]
    %% Node for yearly female counts
    F["Variable: total_counts"]
    %% Node for total counts annually
    G["Variable: male_proportions"]
    %% Node for calculating male proportions
    H["Variable: female_proportions"]
    %% Node for calculating female proportions
    I["Trace: trace1 for Males"]
    %% Node for Plotly trace of male counts/proportions
    J["Trace: trace2 for Females"]
    %% Node for Plotly trace of female counts/proportions
    K["List: data with traces"]
    %% Node for list of traces used to create figures
    L["Layout"]
    %% Node for layout configuration in Plotly
    M["Figure: fig"]
    %% Node for final Plotly figure object

    A --> B
    B --> C
    B --> D
    B --> E
    D --> F
    E --> F
    D --> G
    F --> G
    E --> H
    F --> H
    G --> I
    H --> J
    I --> K
    J --> K
    K --> M
    L --> M
