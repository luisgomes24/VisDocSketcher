flowchart TD
    %% Data Sources
    A1["<img src='icons/file.svg' width=100 height=100/> <br/> train.csv"] --> B1
    A2["<img src='icons/file.svg' width=100 height=100/> <br/> test.csv"] --> B2
    A3["<img src='icons/file.svg' width=100 height=100/> <br/> sample_submission.csv"] --> B3

    %% Data Loading and Preprocessing
    B1["<img src='icons/dataframe.svg' width=100 height=100/> <br/> train DataFrame"]
    B2["<img src='icons/dataframe.svg' width=100 height=100/> <br/> test DataFrame"]
    B3["<img src='icons/dataframe.svg' width=100 height=100/> <br/> sample DataFrame"]

    B1 --> C1["<img src='dummy_plots/column_split.svg' width=100 height=100/> <br/> Split into xtrain and y"]
    B1 --> C2["<img src='dummy_plots/column_split.svg' width=100 height=100/> <br/> Split into xval and yval"]

    %% Model Training and Evaluation
    C1 --> D1["<img src='dummy_plots/hist_template.svg' width=100 height=100/> <br/> xtrain"]
    C1 --> D2["<img src='dummy_plots/hist_template.svg' width=100 height=100/> <br/> ytrain"]
    C2 --> D3["<img src='dummy_plots/hist_template.svg' width=100 height=100/> <br/> xval"]
    C2 --> D4["<img src='dummy_plots/hist_template.svg' width=100 height=100/> <br/> yval"]

    D1 & D2 --> E1["<img src='dummy_plots/lineplot_template.svg' width=100 height=100/> <br/> RandomForestRegressor Model Training"]
    E1 --> E2["<img src='dummy_plots/lineplot_template.svg' width=100 height=100/> <br/> Model Evaluation with xval and yval"]

    %% Predictions
    E1 --> F1["<img src='dummy_plots/scatter_plot_template.svg' width=100 height=100/> <br/> Make Predictions: ypred on test DataFrame"]

    %% Output Preparation
    F1 --> G1["<img src='dummy_plots/barplot_template.svg' width=100 height=100/> <br/> Add Predictions to sample DataFrame"]
    G1 --> H1["Export to CSV for Submission"]

    %% Comments for each node
    classDef dataNode fill:#87CEEB,stroke:#333,stroke-width:2px;
    classDef mlModelNode fill:#C6F4D6,stroke:#333,stroke-width:2px;
    classDef outputNode fill:#F2C464,stroke:#333,stroke-width:2px;

    class A1,A2,A3 dataNode;
    class B1,B2,B3,C1,C2,F1,G1,H1 mlModelNode;
    class D1,D2,D3,D4,E1,E2 outputNode;